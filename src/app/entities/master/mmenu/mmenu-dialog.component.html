
<app-pesan></app-pesan>
<div>
    <button type="submit" 
        class="btn btn-primary pull-right" 
        title="Kembali" 
        [routerLink]="'/mmenu'">
        <fa name="chevron-left" size="1x"></fa>
    </button>
</div>
<br>
<div>
<form  name="editForm" #editForm="ngForm">
    <div class="form-group">
        <label for="field_id">ID</label>
        <input type="text" class="form-control" placeholder="Automatic" 
          name = "id" id="field_id" [(ngModel)] = "mmenu.id" disabled>
    </div>
    <div class="form-group">
        <label for="kode">Kode</label>
        <input type="text" class="form-control" placeholder="Kode"
        name = "kode" [(ngModel)] = "mmenu.kode"
        required maxlength="5">
        <div [hidden]="!(editForm.controls.kode?.dirty && editForm.controls.kode?.invalid)">
            <small class="form-text text-danger"
                [hidden]="!editForm.controls.kode?.errors?.required">
                field ini harus diisi.
            </small>
            <small class="form-text text-danger"
                [hidden]="!editForm.controls.kode?.errors?.maxlength">
                field ini tidak boleh lebih dari 5 karakter.
            </small>
        </div>
    </div>
    <div class="form-group">
        <label for="uraian">Uraian</label>
        <input type="text" class="form-control" placeholder="Uraian"
        name = "uraian" [(ngModel)] = "mmenu.menu"
        required maxlength="50">
        <div [hidden]="!(editForm.controls.uraian?.dirty && editForm.controls.uraian?.invalid)">
            <small class="form-text text-danger"
                [hidden]="!editForm.controls.uraian?.errors?.required">
                field ini harus diisi.
            </small>
            <small class="form-text text-danger"
                [hidden]="!editForm.controls.uraian?.errors?.maxlength">
                field ini tidak boleh lebih dari 50 karakter.
            </small>
        </div>
    </div>

    <div class="form-group">
            <label for="objek">Objek</label>
            <input type="text" class="form-control" placeholder="Objek Menu"
            name = "objek" [(ngModel)] = "mmenu.objek"
            required maxlength="50">
            <div [hidden]="!(editForm.controls.objek?.dirty && editForm.controls.objek?.invalid)">
                <small class="form-text text-danger"
                    [hidden]="!editForm.controls.objek?.errors?.required">
                    field ini harus diisi.
                </small>
                <small class="form-text text-danger"
                    [hidden]="!editForm.controls.objek?.errors?.maxlength">
                    field ini tidak boleh lebih dari 50 karakter.
                </small>
            </div>
        </div>

    <div class="form-group">
        <label for="mgroupmenu">Group Menu</label>
        <select class="form-control" 
        [(ngModel)]="mmenu.mgroupmenu.id" 
        [ngModelOptions]="{standalone: true}">
            <option *ngFor="let mgroupmenu of mgroupmenus" [ngValue]="mgroupmenu.id">
                {{mgroupmenu.groupmenu}}
            </option> 
        </select>
        
    </div>

    <div class="form-group">
        <label for="urutan">urutan</label>
        <input type="number" class="form-control" placeholder="Urutan" min="1"
        name = "urutan" [(ngModel)] = "mmenu.urutan"
        required min="1">
        <div [hidden]="!(editForm.controls.urutan?.dirty && editForm.controls.urutan?.invalid)">
            <small class="form-text text-danger"
                [hidden]="!editForm.controls.urutan?.errors?.required">
                field ini harus diisi.
            </small>
            <small class="form-text text-danger"
                [hidden]="!editForm.controls.urutan?.errors?.number">
                field ini harus diisi dengan angka.
            </small>
        </div>
    </div>

    <div class="form-check">
        <input type="checkbox" class="form-check-input" 
        name = "allowedf" id="field_allowedf" 
        [(ngModel)] = "mmenu.allowedf">
        <label class="form-check-label" for="field_allowedf" >
            <span *ngIf="mmenu.allowedf; else elseBlock"> Aktif </span>
            <ng-template #elseBlock><span > Tidak Aktif </span></ng-template>
        </label>
    </div>
</form>
<br>
<button type="submit" class="btn btn-info" title="Reset" *ngIf="dataTidakAda" (click)= "reset()">Reset</button>
<button type="submit" class="btn btn-primary" 
title="Simpan" (click)= "save()"
[disabled]="editForm.form.invalid || isSaving">Simpan</button>
</div>